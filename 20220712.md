## 📘 실용주의 프로그래머

### 4장 실용주의 편집증(p.145 ~ p.162)

#### 여러분은 완벽한 소프트웨어를 만들 수 없다.

실용주의 프로그래머는 자기 자신을 믿지 않는다. 어느 누구도, 심지어는 자기 자신도 완벽한 코드를 작성할 수 없음을 알기 때문에 실용주의 프로그래머는 자신의 실수에 대비한 방어책을 마련한다.

코드의 공급자와 사용자는 권리와 책임에 대해 동의해야 한다. 또한 버그 상황에서 헤어나는 도중에 어떤 손상도 입지 않도록 보장해야 한다. 무엇보다 가장 중요한 것은 언제나 작은 단계들을 고수해야 한다는 것이다.

#### 계약에 의한 설계

정직한 거래를 보장하는 최선의 해법 중 하나는 '계약'이다. 계약은 자신과 상대편의 권리 및 책임을 정의한다. 소프트웨어 모듈이 서로 소통하는 것을 돕기 위해 동일한 개념을 사용할 수 있을까? 대답은 '그렇다' 이다.

**DBC**는 단순하지만 강력한 기법으로, 프로그램의 정확성을 보장하기 위해 소프트웨어 모듈의 권리와 책임을 문서화하고 합의하는 데에 초점을 맞춘다. 정확한 프로그램이란 자신이 하는 일이라고 주장하는 것보다 많지도 적지도 않게 딱 그만큼만 하는 프로그램을 말한다. 이 주장을 문서화하고 검증하는 것이 '계약에 의한 설계'의 핵심이다.

코드를 작성하기 전에 유효한 입력 범위가 무엇인지, 경계 조건이 무엇인지, 루틴이 뭘 전달한다고 약속하는지, 혹은 더 중요하게는 무엇을 약속하지 않는지 등을 나열하는 것만으로도 더 나은 소프트웨어를 작성하는데에 엄청난 도움이 된다.

#### 망치지 말고 멈춰라

가능한 한 빨리 문제를 발견하면 좀 더 일찍 시스템을 멈출 수 있으니 더 낫다. 게다가 프로그램을 멈추는 것이 할 수 있는 최선인 경우가 흔하다.

방금 있을 수 없는 일이 발생했다는 것을 코드가 발견했다면 프로그램은 더는 유효하지 않다고 할 수 있다. 이 시점 이후로 하는 일은 모두 수상쩍은 게 된다. 되도록 빨리 종료할 일이다.

### 🤓 느낀점

이번 챕터에서는 '누구도 완벽한 코드를 작성할 수 없지만 실수에 대한 방어책을 마련해서 코드를 작성해라'라는 것이 주제였다. 항상 예외처리, 버그, 유효성 검사 등에 대해 강조하는 만큼 당연한 주제이면도 자주 놓치는 부분이었다.
내 코드는 절대 완벽하지 않기 때문에 그만큼 많은 부분을 검사해야 한다.
